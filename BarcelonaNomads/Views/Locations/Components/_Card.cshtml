@using BarcelonaNomads.Data
@model BarcelonaNomads.Models.Location;

@{
  LocationType locationType = Model.LocationType;
  string Emoji;
  string Json = Model.ToString();

  switch (locationType)
  {
    case LocationType.Cafe:
      Emoji = "☕️";
      break;
    case LocationType.CoworkingSpace:
      Emoji = "👩‍💻";
      break;
    case LocationType.Library:
      Emoji = "📚";
      break;
    default:
      Emoji = "🏠";
      break;
  }
}

<div class="col-6 col-md-4 col-lg-3" data-locaiton-json="@Json">
  <div class="card h-100 overflow-hidden shadow-s">
    <a asp-action="Details" asp-route-id="@Model.Id">
      <div class="ratio ratio-4x3 overflow-hidden">
        <img class="card-img-top object-fit-cover" src="@Html.DisplayFor(l => l.ImageURL)"
          alt=" @Html.DisplayFor(l => l.Name)">
      </div>
    </a>
    <div class="card-body d-flex flex-column">
      <h5 class="card-title">@Html.DisplayFor(l => l.Name) @Emoji</h5>
      <p class="card-text flex-grow-1"><i class="bi bi-pin-map"></i> @Html.DisplayFor(l => l.Address)</p>
      @{
        int count = @Model.Reviews.Count();
        string suffix = count == 1 ? "review" : "reviews";
      }
      <p class="card-text"><i class="bi bi-chat"></i> @count @suffix</p>

    </div>
  </div>
</div>
